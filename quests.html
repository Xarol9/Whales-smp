<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whales SMP | –ë—ñ—Ä–∂–∞ –∑–∞–º–æ–≤–ª–µ–Ω—å</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { 
            --accent: #00d2ff; 
            --bg: #050608; 
            --card: rgba(20, 22, 28, 0.6); 
            --border: rgba(255, 255, 255, 0.08); 
        }

        body { 
            margin: 0; background: var(--bg); color: white; 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background-image: radial-gradient(circle at 50% -20%, #1a2a3a 0%, #050608 60%);
            min-height: 100vh;
        }

        /* --- NAVIGATION --- */
        nav {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 5%; background: rgba(0,0,0,0.5);
            backdrop-filter: blur(20px); border-bottom: 1px solid var(--border);
            position: sticky; top: 0; z-index: 1000;
        }
        .nav-brand { font-weight: 800; font-size: 1.5rem; color: var(--accent); letter-spacing: -1px; text-decoration: none; }
        .nav-links { display: flex; gap: 10px; }
        .nav-links a { color: #aaa; text-decoration: none; font-size: 0.85rem; padding: 10px 15px; border-radius: 12px; transition: 0.3s; }
        .nav-links a:hover { color: white; background: rgba(255,255,255,0.05); }
        
        .profile-btn {
            display: flex; align-items: center; gap: 10px; background: var(--card);
            padding: 6px 15px; border-radius: 50px; border: 1px solid var(--border);
            text-decoration: none; color: white; font-size: 0.9rem;
        }

        /* --- CONTENT --- */
        .container { max-width: 1000px; margin: 40px auto; padding: 0 20px; }

        .header-section {
            display: flex; justify-content: space-between; align-items: flex-end;
            margin-bottom: 30px;
        }
        .header-section h1 { margin: 0; font-size: 2.5rem; letter-spacing: -1px; }

        .btn-add {
            background: var(--accent); color: black; border: none;
            padding: 14px 25px; border-radius: 16px; font-weight: 800;
            cursor: pointer; transition: 0.3s; box-shadow: 0 8px 20px rgba(0,210,255,0.2);
        }
        .btn-add:hover { transform: translateY(-3px); box-shadow: 0 12px 25px rgba(0,210,255,0.4); }

        /* --- QUEST CARDS --- */
        .quest-list { display: flex; flex-direction: column; gap: 20px; }
        
        .quest-card {
            background: var(--card); border: 1px solid var(--border);
            padding: 25px; border-radius: 28px; backdrop-filter: blur(10px);
            display: grid; grid-template-columns: auto 1fr auto; gap: 25px; align-items: center;
            transition: 0.3s;
        }
        .quest-card:hover { border-color: var(--accent); background: rgba(255,255,255,0.02); }

        .author-info { text-align: center; border-right: 1px solid var(--border); padding-right: 25px; min-width: 80px; }
        .author-head { width: 50px; height: 50px; border-radius: 12px; margin-bottom: 8px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .author-name { font-size: 0.75rem; color: #777; font-weight: 600; display: block; }

        .quest-main h3 { margin: 0 0 8px 0; font-size: 1.3rem; color: white; }
        .quest-main p { margin: 0; color: #999; font-size: 0.95rem; line-height: 1.5; }

        .reward-box { text-align: right; }
        .reward-label { font-size: 0.65rem; color: #555; font-weight: 800; text-transform: uppercase; margin-bottom: 4px; display: block; }
        .reward-val { background: rgba(0,210,255,0.1); color: var(--accent); padding: 10px 18px; border-radius: 14px; font-weight: 800; display: inline-block; }

        /* --- MODAL --- */
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); backdrop-filter: blur(15px);z-index: 2000; align-items: center; justify-content: center;
        }
        .modal-box { 
            background: #111218; border: 1px solid var(--border); 
            padding: 40px; border-radius: 35px; width: 100%; max-width: 450px;
        }
        .modal-box h2 { margin-top: 0; font-size: 1.8rem; margin-bottom: 25px; }

        input, textarea {
            width: 100%; background: #08090b; border: 1px solid var(--border);
            color: white; padding: 15px; border-radius: 15px; margin-bottom: 15px;
            box-sizing: border-box; font-family: inherit; font-size: 0.95rem;
        }
        input:focus, textarea:focus { border-color: var(--accent); outline: none; }

        .btn-submit { width: 100%; background: var(--accent); color: black; border: none; padding: 18px; border-radius: 15px; font-weight: 800; cursor: pointer; }
        .btn-cancel { width: 100%; background: none; color: #555; border: none; margin-top: 15px; cursor: pointer; font-weight: 600; }

        /* --- EMPTY STATE --- */
        .empty-msg { text-align: center; padding: 60px; color: #444; font-style: italic; }
    </style>
</head>
<body>

<nav>
    <a href="index.html" class="nav-brand">WHALES.</a>
    <div class="nav-links">
        <a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
        <a href="news.html">–ù–æ–≤–∏–Ω–∏</a>
        <a href="wiki.html">–í—ñ–∫—ñ</a>
        <a href="quests.html" style="color: white; font-weight: 800;">–ë—ñ—Ä–∂–∞</a>
        <a href="shop.html">–ú–∞–≥–∞–∑–∏–Ω</a>
    </div>
    <a href="profile.html" class="profile-btn">
        <img id="p-head" src="" style="width: 24px; height: 24px; border-radius: 6px;">
        <span id="p-nick">...</span>
    </a>
</nav>

<div class="container">
    <div class="header-section">
        <div>
            <h1>–ë—ñ—Ä–∂–∞ –ø—Ä–∞—Ü—ñ</h1>
            <p style="color: #666; margin: 5px 0 0 0;">–î–æ–ø–æ–º–∞–≥–∞–π —ñ–Ω—à–∏–º —Ç–∞ –∑–∞—Ä–æ–±–ª—è–π —Ä–µ—Å—É—Ä—Å–∏</p>
        </div>
        <button class="btn-add" onclick="toggleModal(true)">+ –ù–û–í–ï –ó–ê–ú–û–í–õ–ï–ù–ù–Ø</button>
    </div>

    <div class="quest-list" id="q-container">
        <div class="quest-card">
            <div class="author-info">
                <img src="https://mc-heads.net/avatar/Steve/50" class="author-head">
                <span class="author-name">Steve</span>
            </div>
            <div class="quest-main">
                <h3>–ü–æ—Ç—Ä—ñ–±–µ–Ω –¥–µ–∫–æ—Ä –¥–ª—è —Å–ø–∞–≤–Ω—É</h3>
                <p>–®—É–∫–∞—é –±—É–¥—ñ–≤–µ–ª—å–Ω–∏–∫–∞, —è–∫–∏–π –≤–º—ñ—î –≥–∞—Ä–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –ª–∏—Å—Ç—è–º —Ç–∞ –¥–µ—Ä–µ–≤–æ–º. –ú–∞—Ç–µ—Ä—ñ–∞–ª–∏ –Ω–∞–¥–∞—é.</p>
            </div>
            <div class="reward-box">
                <span class="reward-label">–ù–∞–≥–æ—Ä–æ–¥–∞</span>
                <div class="reward-val">üíé 32 –ê–ª–º–∞–∑–∏</div>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="modal-wrap">
    <div class="modal-box">
        <h2>–°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
        <input type="text" id="in-title" placeholder="–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏?">
        <textarea id="in-desc" rows="4" placeholder="–î–µ—Ç–∞–ª—ñ, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏, —Ç–µ—Ä–º—ñ–Ω–∏..."></textarea>
        <input type="text" id="in-reward" placeholder="–ù–∞–≥–æ—Ä–æ–¥–∞ (–Ω–∞–ø—Ä. 5000$ –∞–±–æ –®–∞–ª–∫–µ—Ä)">
        
        <button class="btn-submit" onclick="submitQuest()">–û–ü–£–ë–õ–Ü–ö–£–í–ê–¢–ò</button>
        <button class="btn-cancel" onclick="toggleModal(false)">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
    </div>
</div>

<script>
    // 1. –ê–í–¢–û–†–ò–ó–ê–¶–Ü–Ø
    const myNick = localStorage.getItem('playerNick') || "–ì—ñ—Å—Ç—å";
    document.getElementById('p-nick').innerText = myNick;
    document.getElementById('p-head').src = "https://mc-heads.net/avatar/" + myNick + "/24";

    // 2. –£–ü–†–ê–í–õ–Ü–ù–ù–Ø –ú–û–î–ê–õ–ö–û–Æ
    function toggleModal(show) {
        document.getElementById('modal-wrap').style.display = show ? 'flex' : 'none';
    }

    // 3. –î–û–î–ê–í–ê–ù–ù–Ø –ö–í–ï–°–¢–£
    async function submitQuest() {
        const title = document.getElementById('in-title').value.trim();
        const desc = document.getElementById('in-desc').value.trim();
        const reward = document.getElementById('in-reward').value.trim();
        const btn = document.querySelector('.btn-submit');

        if (!title || !desc || !reward) {
            alert("–ó–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –ø–æ–ª—è —Ñ–æ—Ä–º–∏!");return;
        }

        btn.disabled = true;
        btn.innerText = "–û–ë–†–û–ë–ö–ê...";

        // –î–æ–¥–∞—î–º–æ –≤—ñ–∑—É–∞–ª—å–Ω–æ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É
        const container = document.getElementById('q-container');
        const card = document.createElement('div');
        card.className = 'quest-card';
        card.innerHTML = `
            <div class="author-info">
                <img src="https://mc-heads.net/avatar/${myNick}/50" class="author-head">
                <span class="author-name">${myNick}</span>
            </div>
            <div class="quest-main">
                <h3>${title}</h3>
                <p>${desc}</p>
            </div>
            <div class="reward-box">
                <span class="reward-label">–ù–∞–≥–æ—Ä–æ–¥–∞</span>
                <div class="reward-val">${reward}</div>
            </div>
        `;
        
        container.prepend(card);

        // –í–Ü–î–ü–†–ê–í–ö–ê –í DISCORD
        const webhook = "–¢–£–¢_–¢–í–Ü–ô_WEBHOOK"; // –í–°–¢–ê–í –°–í–Ü–ô –õ–Ü–ù–ö!

        try {
            await fetch(webhook, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    username: "Whales Board",
                    embeds: [{
                        title: "üõ†Ô∏è –ù–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è: " + title,
                        description: desc + "\n\n**–ù–∞–≥–æ—Ä–æ–¥–∞:** " + reward,
                        color: 54103,
                        footer: { text: "–ó–∞–º–æ–≤–Ω–∏–∫: " + myNick },
                        thumbnail: { url: "https://mc-heads.net/avatar/" + myNick + "/100" }
                    }]
                })
            });
            alert("–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ –Ω–∞ —Å–∞–π—Ç—ñ —Ç–∞ –≤ Discord!");
        } catch (e) {
            console.error(e);
        }

        // –û—á–∏—â–µ–Ω–Ω—è —Ç–∞ –∑–∞–∫—Ä–∏—Ç—Ç—è
        document.getElementById('in-title').value = "";
        document.getElementById('in-desc').value = "";
        document.getElementById('in-reward').value = "";
        btn.disabled = false;
        btn.innerText = "–û–ü–£–ë–õ–Ü–ö–£–í–ê–¢–ò";
        toggleModal(false);
    }
</script>

</body>
</html>